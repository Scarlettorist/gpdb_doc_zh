<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic
  PUBLIC "-//OASIS//DTD DITA Composite//EN" "ditabase.dtd">
<topic id="topic1">
  <title id="km135496">管理工具参考</title>
  <shortdesc>本章描述了Greenplum数据库提供的命令行管理工具相关内容</shortdesc>
  <body>
    <p>Greenplum数据库使用标准的PostgreSQL客户端和服务器程序，并且额外提供了用于管理分布式Greenplum数据库
      的管理工具。Greenplum数据库管理工具位于<codeph>$GPHOME/bin</codeph>目录下。
      <note>在<codeph>gpfdist</codeph>的URL中引用IPv6地址或者在任何管理工具中使用数字形式的IP地址而不是
        主机名时，请把IP地址放在方括号中。在命令提示符使用时，最好的方式是将方括号转义或者把它们放在引号内。
        例如：<codeph>\[2620:0:170:610::11\]</codeph>或<codeph>'[2620:0:170:610::11]'</codeph>。
      </note></p>
    <p>下列是Greenplum数据库的管理工具。</p>
    <simpletable id="km162860">
      <strow>
        <stentry>
          <p>
            <xref href="analyzedb.xml#topic1"/>
          </p>
          <p>
            <xref href="gpactivatestandby.xml#topic1" type="topic" format="dita"/>
          </p>
          <p>
            <xref href="gpaddmirrors.xml#topic1" type="topic" format="dita"/>
          </p>
          <p>
            <xref href="gpbackup.xml" type="topic" format="dita"/></p>
          <p>
            <xref href="gpcheck.xml#topic1" type="topic" format="dita"/></p>
          <p>
            <xref href="gpcheckcat.xml#topic1"/>
          </p>
          <p>gpchecknet（已弃用）</p>
          <p>gpcheckos（已弃用）</p>
          <p>
            <xref href="gpcheckperf.xml#topic1" type="topic" format="dita"/>
          </p>
          <p>
            <xref href="gpconfig.xml#topic1" type="topic" format="dita"/>
          </p>
          <p otherprops="pivotal">
            <xref href="gpcopy.xml#topic1" type="topic" format="dita"/>
          </p>
          <p>
            <xref href="gpdeletesystem.xml#topic1" type="topic" format="dita"/>
          </p>
          <p> gpdetective（已弃用）</p>
          <p>
            <xref href="gpexpand.xml#topic1" type="topic" format="dita"/>
          </p>
          <p>
            <xref href="gpfdist.xml#topic1" type="topic" format="dita"/>
          </p>
          <p>
            <xref href="gpinitstandby.xml#topic1" type="topic" format="dita"/>
          </p>
          <p>
            <xref href="gpinitsystem.xml#topic1" type="topic" format="dita"/>
          </p>
          <p otherprops="pivotal">
            <xref href="../../greenplum-kafka/gpkafka.xml" type="topic" format="dita" scope="peer"
              >gpkafka</xref>
          </p>
          <p otherprops="pivotal">
            <xref href="../../greenplum-kafka/gpkafka-check.xml" type="topic" format="dita"
              scope="peer">gpkafka check</xref>
          </p>
          <p otherprops="pivotal">
            <xref href="../../greenplum-kafka/gpkafka-load.xml" type="topic" format="dita"
              scope="peer">gpkafka load</xref>
          </p>
          <p otherprops="pivotal">
            <xref href="../../greenplum-kafka/gpkafka-yaml-v2.xml" type="topic" format="dita"
              scope="peer">gpkafka-v2.yaml</xref>
          </p>
          <p otherprops="pivotal">
            <xref href="../../greenplum-kafka/gpkafka-yaml.xml" type="topic" format="dita"
              scope="peer">gpkafka.yaml</xref>
          </p>
          <p>
            <xref href="gpload.xml#topic1" type="topic" format="dita"/>
          </p>
        </stentry>
        <stentry>
          <p>
            <xref href="gplogfilter.xml#topic1" type="topic" format="dita"/>
          </p>
          <p>
            <xref href="gpmapreduce.xml#topic1" type="topic" format="dita"/>
          </p>
          <!-- hidden until testing is complete -msk
            <p>
            <xref href="gpmovemirrors.xml#topic1"/>
          </p>-->
          <p>
            <xref href="gpperfmon_install.xml#topic1"/>
          </p>
          <p>
            <xref href="gppkg.xml#topic1" type="topic" format="dita"/>
          </p>
          <p>gprebuildsystem（已弃用）</p>
          <p>
            <xref href="gprecoverseg.xml#topic1" type="topic" format="dita"/>
          </p>
          <p>
            <xref href="gpreload.xml#topic1"/>
          </p>
          <p>
            <xref href="gprestore.xml" type="topic" format="dita"/></p>
          <p>gpsizecalc（已弃用）</p>
          <p>
            <xref href="gpscp.xml#topic1" type="topic" format="dita"/>
          </p>
          <p>gpskew（已弃用）</p>
          <p>
            <xref href="gpseginstall.xml#topic1" type="topic" format="dita"/>
          </p>
          <p>
            <xref href="gpssh.xml#topic1" type="topic" format="dita"/>
          </p>
          <p>
            <xref href="gpssh-exkeys.xml#topic1" type="topic" format="dita"/>
          </p>
          <p>
            <xref href="gpstart.xml#topic1" type="topic" format="dita"/>
          </p>
          <p>
            <xref href="gpstate.xml#topic1" type="topic" format="dita"/>
          </p>
          <p>
            <xref href="gpstop.xml#topic1" type="topic" format="dita"/>
          </p>
          <p>
            <xref href="gpsys.xml#topic1"/>
          </p>
          <p>
            <xref href="pgbouncer.xml#topic1"/>
          </p>
          <p>
            <xref href="pgbouncer-ini.xml#topic1"/>
          </p>
          <p>
            <xref href="pgbouncer-admin.xml#topic1"/>
          </p>
          <p>
            <xref href="../../pxf/ref/pxf.html" format="html" scope="peer">pxf</xref>
          </p>
          <p>
            <xref href="../../pxf/ref/pxf-cluster.html" format="html" scope="peer">pxf
              cluster</xref>
          </p>
        </stentry>
      </strow>
    </simpletable>
  </body>
  <topic id="topic_zqp_5xm_cp">
    <title>后端服务器程序</title>
    <body>
      <p>Greenplum数据库提供了下列标准的PostgreSQL数据库管理程序，它们位于<codeph>$GPHOME/bin</codeph>中。
        为了处理Greenplum数据库系统的并行性和分布性，这些程序都经过了不同程度的修改。用户只能通过Greenplum数据库
        管理工具来访问这些程序。</p>
      <table id="km164231">
        <title>Greenplum数据库后端服务程序</title>
        <tgroup cols="3">
          <colspec colnum="1" colname="col1" colwidth="101pt"/>
          <colspec colnum="2" colname="col2" colwidth="188pt"/>
          <colspec colnum="3" colname="col3" colwidth="158pt"/>
          <thead>
            <row>
              <entry colname="col1">程序名</entry>
              <entry colname="col2">描述</entry>
              <entry colname="col3">替代程序</entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry colname="col1">
                <codeph id="km164249">initdb</codeph>
              </entry>
              <entry colname="col2">在初始化一个Greenplum数据库集群时，这个程序会被<codeph>gpinitsystem</codeph>
                调用。它被用来创建集群内部每一个segment实例和master实例。</entry>
              <entry colname="col3">
                <codeph>
                  <xref href="gpinitsystem.xml#topic1" type="topic" format="dita"/>
                </codeph>
              </entry>
            </row>
            <row>
              <entry colname="col1">
                <codeph id="km164262">ipcclean</codeph>
              </entry>
              <entry colname="col2">Greenplum数据库中没有使用</entry>
              <entry colname="col3">N/A</entry>
            </row>
            <row>
              <entry colname="col1">
                <codeph id="km164272">pg_basebackup</codeph>
              </entry>
              <entry colname="col2">该程序用来对某个单独的数据库实例创建一个二进制拷贝。Greenplum数据库
                会在创建备用master实例或创建一个segment镜像的完整拷贝时使用。不要使用该工具备份Greenplum
                数据库segment实例，因为它达不到MPP一致性备份的要求。</entry>
              <entry colname="col3"><codeph><xref href="gpinitstandby.xml#topic1" type="topic"
                format="dita"/></codeph>, <codeph><xref href="gprecoverseg.xml#topic1"
                  type="topic" format="dita"/></codeph></entry>
            </row>
            <row>
              <entry colname="col1">
                <codeph id="km164291">pg_controldata</codeph>
              </entry>
              <entry colname="col2">Greenplum数据库中没有使用</entry>
              <entry colname="col3">
                <codeph>
                  <xref href="gpstate.xml#topic1" type="topic" format="dita"/>
                </codeph>
              </entry>
            </row>
            <row>
              <entry colname="col1">
                <codeph id="km164304">pg_ctl</codeph>
              </entry>
              <entry colname="col2">在启动或者停止Greenplum数据库阵列时，这个程序会被<codeph>gpstart</codeph>
                和<codeph>gpstop</codeph>调用。在集群内部，它被用来以正确的选项并行地停止和启动segment实例和
                master实例。</entry>
              <entry colname="col3"><codeph><xref href="gpstart.xml#topic1" type="topic"
                format="dita"/></codeph>, <codeph><xref href="gpstop.xml#topic1" type="topic"
                  format="dita"/></codeph></entry>
            </row>
            <row>
              <entry colname="col1">
                <codeph id="km164320">pg_resetxlog</codeph>
              </entry>
              <entry colname="col2">不要使用<p><b>警告：</b>
                这个程序可能会导致数据丢失或者导致数据变得不可用。如果使用了这个程序，<ph otherprops="pivotal">
                  Pivotal将不会再对该Greenplum数据库提供服务。</ph>集群必须被重新初始化然后回复数据。<ph otherprops="pivotal">
                    客户自己处理。</ph></p></entry>
              <entry colname="col3">N/A</entry>
            </row>
            <row>
              <entry colname="col1">
                <codeph id="km164330">postgres</codeph>
              </entry>
              <entry colname="col2"><codeph>postgres</codeph>可执行程序是实际处理查询的服务器进程。
              </entry>
              <entry colname="col3">主<codeph>postgres</codeph>进程（postmaster）按照需要创建其他的
                <codeph>postgres</codeph>子进程以及<codeph>postgres</codeph>会话来处理客户端连接。
              </entry>
            </row>
            <row>
              <entry colname="col1">
                <codeph id="km164337">postmaster</codeph>
              </entry>
              <entry colname="col2"><codeph>postmaster</codeph>开启接受客户端连接的<codeph>postgres</codeph>
                数据库服务器监听进程。在Greenplum数据库中，Greenplum的master实例和每一个segment实例上
                都会运行一个<codeph>postgres</codeph>数据库监听进程。</entry>
              <entry colname="col3">在Greenplum数据库中，用户可以使用<codeph><xref
                href="gpstart.xml#topic1" type="topic" format="dita"/></codeph>和<codeph>
                  <xref href="gpstop.xml#topic1" type="topic" format="dita"/></codeph>在系统中以正确的顺序
                和正确的选项一次性开启和关闭所有的postmaster进程（<codeph>postgres</codeph>进程）。</entry>
            </row>
          </tbody>
        </tgroup>
      </table>
    </body>
  </topic>
</topic>
